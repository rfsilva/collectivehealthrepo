spring:
  application:
    name: transferencia-banestes-api

server:
  address: 0.0.0.0
  port: 8080

management:
  server:
    address: 0.0.0.0
    port: 8081
  endpoint:
    health:
      enabled: true
  endpoints:
    enabled-by-default: false
    web:
      base-path: /

info:
  app:
    name: transferencia-banestes-api

banestes:
  sso:
    grant_type: password
    url:
      token: ${SSO_URL:http://sso-banestes.spassu.cloud/auth/realms/banestes/protocol/openid-connect/token}
    credentials:
      client:
        secret: ${CLIENT_SECRET:e9cd2f27-7d33-469c-8204-153b8d508296}
      username: ${USERNAME_SSO:tef-admin}
      password: ${PASSWORD_SSO:tefadmin}

service:
  limite-api:
    client-id: limite-api 
    host: ${LIMITE_API_URL:http://127.0.0.1:8084}
  sensibiliza-conta-corrente-api:
    client-id: sensibiliza-conta-corrente-api 
    host: ${SENSIBILIZA_CONTA_CORRENTE_API_URL:http://127.0.0.1:8086}
  sensibiliza-conta-poupanca-api:
    client-id: sensibiliza-conta-poupanca-api 
    host: ${SENSIBILIZA_CONTA_POUPANCA_API_URL:http://127.0.0.1:8088}
  contrato-api:
    client-id: contrato-api 
    host: ${CONTRATO_API_URL:http://127.0.0.1:8092}

keycloak:
  ssl-required: external
  realm: ${REALM:banestes} #realm
  resource: ${CLIENT_ID:transferencia-banestes-api} #artifactId
  auth-server-url: ${SSO_URL:http://sso-banestes.spassu.cloud/auth} #url do sso
  credentials:
    secret: ${CLIENT_SECRET:b80ec3f0-dcd7-48d7-b523-f78fb6cb8067}
  use-resource-role-mappings: true
  bearer-only: true
  security-constraints:
    - authRoles:
        - T_TRN_TRANSFERENCIA_BANESTES
      securityCollections:
        - name: utilizado para validar transação entre duas contas
          patterns: 
            - /transferencia
            - /autorizacao
          methods: POST

springfox:
  documentation:
    swagger:
      v2:
        path: /api-docs
      
